<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Cooking With Webpack Part 1 - Introduction and Basic Implementation - Call Me Nick</title>
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:creator" content="@nicksalloum_" />
  <meta name="description" content="In part 1 of this series, we take a plunge into webpack, the webpack cli, the webpack configuration file, and creating our first bundle.">
  <meta property="og:url" content="https://callmenick.com/dev/cooking-with-webpack-1-introduction/">
  <meta property="og:title" content="Cooking With Webpack Part 1 - Introduction and Basic Implementation - Call Me Nick">
  <meta property="og:description" content="In part 1 of this series, we take a plunge into webpack, the webpack cli, the webpack configuration file, and creating our first bundle.">
  <meta property="og:image" content="https://callmenick.com/dev/cooking-with-webpack-1-introduction/cooking-with-webpack-1-introduction-featured.png">
  <meta name="msapplication-config" content="https://callmenick.com/img/icons/browserconfig.xml">
  <meta name="theme-color" content="#ffffff">
  <link rel="stylesheet" href="https://callmenick.com/css/style.css">
  <link rel="apple-touch-icon" sizes="180x180" href="https://callmenick.com/img/icons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="https://callmenick.com/img/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="https://callmenick.com/img/icons/favicon-16x16.png">
  <link rel="manifest" href="https://callmenick.com/img/icons/manifest.json">
  <link rel="mask-icon" href="https://callmenick.com/img/icons/safari-pinned-tab.svg" color="#5bbad5">
  <link rel="shortcut icon" href="https://callmenick.com/img/icons/favicon.ico">
  <link rel="canonical" href="https://callmenick.com/dev/cooking-with-webpack-1-introduction/">
</head>
<body>
  <div class="Wrapper">
    <div class="Sidebar">
  <header class="Header">
    <div class="Header-logo">
      <a href="https://callmenick.com/">
        <svg class="Logo" width="60" height="60" viewBox="0 0 60 60">
  <circle fill="#2196F3" cx="30" cy="30" r="30"/>
  <path fill="#FFF" d="M34.757 43.244A5.981 5.981 0 0 0 39.002 45 5.999 5.999 0 0 0 45 39.002c0-1.665-.67-3.154-1.757-4.243L25.244 16.757A6.002 6.002 0 0 0 15 20.999c0 1.663.67 3.155 1.757 4.241l18 18.004zM27.001 39.002A6 6 0 0 1 20.997 45C17.688 45 15 42.316 15 39.002a6.001 6.001 0 0 1 12.001 0zM45 20.999a6 6 0 0 1-12 0A6.002 6.002 0 0 1 39.002 15 6.002 6.002 0 0 1 45 20.999z"/>
</svg>

      </a>
    </div>
  </header>
  <nav class="Nav">
    <ul class="Nav-items">
      
      
        <li class="Nav-item ">
          <a href="https://callmenick.com/" class="Nav-link">Home</a>
        </li>
      
        <li class="Nav-item ">
          <a href="https://callmenick.com/dev" class="Nav-link">Dev</a>
        </li>
      
        <li class="Nav-item ">
          <a href="https://callmenick.com/contact" class="Nav-link">Contact</a>
        </li>
      
    </ul>
  </nav>
  <div id="carbonad" class="CarbonAd"></div>
</div>

    <main class="Main">
      <div class="Main-inner">
        
  <section class="Article">
    <div class="Article-header">
      <h1 class="Article-title">Cooking With Webpack Part 1 - Introduction and Basic Implementation</h1>
      <div class="Article-meta">
        <a href="https://callmenick.com/dev/cooking-with-webpack-1-introduction/" class="Article-meta-item">
          On: <em>2017/01/04</em>
        </a>
        <a href="/dev" class="Article-meta-item">
          In: <em>dev</em>
        </a>
      </div>
      <p class="Article-excerpt">In part 1 of this series, we take a plunge into webpack, the webpack cli, the webpack configuration file, and creating our first bundle.</p>
      <div class="Article-featuredImg">
        <img src="cooking-with-webpack-1-introduction-featured.png" alt="Cooking With Webpack Part 1 - Introduction and Basic Implementation">
      </div>
    </div>
    <div class="Article-content">
      <div class="Content">
        <!-- raw HTML omitted -->
<p>I'll begin this article the way many a webpack article begins - with a simple, underwhelming, and slightly confusing description of what webpack is. From their docs:</p>
<blockquote>
<p>Webpack is a module bundler. Webpack takes modules with dependencies and generates static assets representing those modules.</p>
</blockquote>
<p>In this series of tutorials though, I promise to take you way beyond the basics, and into some of the more intricate parts of webpack.</p>
<p>In a most basic sense, webpack looks at a source file, examines its dependencies, and compiles an output bundle. So if our source file requires another modules (CommonJS of AMD), webpack will do some stuff under the hood in the build and bundle in that module, producing a file that's ready for consumption in any JavaScript environment.</p>
<p>Something that confused me up front as well was the endless commingling of the <a href="http://webpack.github.io/docs/cli.html">command line interface</a> as well as the <a href="http://webpack.github.io/docs/configuration.html">configuration file</a>. When webpack runs, it looks for both of these things, and often times, a lot of command line clunkiness can be moved into the webpack configuration file. In these guides, I'll be primarily using the configuration file with occasional command line arguments.</p>
<h2 id="setting-up-our-project">Setting Up Our Project</h2>
<p>First things first, let's get a project set up by running:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">npm init
</code></pre></div><p>Let's also create a very basic folder structure, and add an empty JavaScript file to it:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">mkdir src <span style="color:#f92672">&amp;&amp;</span> touch src/index.js
</code></pre></div><p>Then, let's add webpack as a development dependency:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">npm install webpack --save-dev
</code></pre></div><p>We're now able to run webpack scripts from our project as npm scripts. Let's add a basic npm script to our <code>package.json</code> file:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{
  <span style="color:#f92672">&#34;scripts&#34;</span>: {
    <span style="color:#f92672">&#34;build&#34;</span>: <span style="color:#e6db74">&#34;webpack&#34;</span>
  }
}
</code></pre></div><p>Now, we can run <code>npm run build</code>. Naturally though, there are errors. Notably, it's telling us that we don't have an output filename configured, and pointing us to the cli docs.</p>
<h2 id="making-our-first-bundle">Making Our First Bundle</h2>
<p>At its core, webpack needs an entry point and some output configurations.We can achieve this via the updating our build task to this:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{
  <span style="color:#f92672">&#34;scripts&#34;</span>: {
    <span style="color:#f92672">&#34;build&#34;</span>: <span style="color:#e6db74">&#34;webpack --entry ./src/index.js --output-filename ./dist/index.bundle.js&#34;</span>
  }
}
</code></pre></div><p>Here, we're using the <code>--entry</code> argument to specify the entry file, and the <code>--output-filename</code> argument to specify where our bundle should compile to. If you rerun <code>npm run build</code>, you'll see that webpack successfully created the bundle at <code>dist/index.bundle.js</code>. It should contain some webpack boilerplate code, which we'll get into later.</p>
<p>We're not going to continue on with the cli though. Instead, we're going to create a configuration file.</p>
<h2 id="setting-up-the-configuration-file">Setting Up The Configuration File</h2>
<p>Webpack configuration files can be supplied via the <code>--config</code> argument in the command line:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{
  <span style="color:#f92672">&#34;scripts&#34;</span>: {
    <span style="color:#f92672">&#34;build&#34;</span>: <span style="color:#e6db74">&#34;webpack --config ./config.js&#34;</span>
  }
}
</code></pre></div><p>The above assumes that a webpack configuration file named <code>config.js</code> was found. However, by default, the webpack task looks for the <code>webpack.config.js</code> file in the same directory as it gets run from. So we can just revert back to this:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{
  <span style="color:#f92672">&#34;scripts&#34;</span>: {
    <span style="color:#f92672">&#34;build&#34;</span>: <span style="color:#e6db74">&#34;webpack&#34;</span>
  }
}
</code></pre></div><p>And now, we can create our webpack configuration file:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">touch webpack.config.js
</code></pre></div><p>Let's now move our command line script from above over to the webpack configuration file. A webpack configuration is just an exported object. For the most part, each of those cli arguments above map to some key-pair values. For example, <code>--entry</code> maps to <code>{entry: ''}</code>, and <code>--output-filename</code> maps to <code>{output: {filename: ''}}</code>. Here's ours:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">webpack</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;webpack&#39;</span>);
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">path</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;path&#39;</span>);

<span style="color:#a6e22e">module</span>.<span style="color:#a6e22e">exports</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">entry</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">path</span>.<span style="color:#a6e22e">join</span>(<span style="color:#a6e22e">__dirname</span>, <span style="color:#e6db74">&#39;src/index.js&#39;</span>),
  <span style="color:#a6e22e">output</span><span style="color:#f92672">:</span> {
    <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">path</span>.<span style="color:#a6e22e">join</span>(<span style="color:#a6e22e">__dirname</span>, <span style="color:#e6db74">&#39;dist&#39;</span>),
    <span style="color:#a6e22e">filename</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;index.bundle.js&#39;</span>
  }
};
</code></pre></div><p>Now, once again, if we run <code>npm run build</code>, we'll see that our entry script gets bundled and compiled to the specified output. This time, we used two output options:</p>
<ul>
<li><code>path</code> - specifies the output path of our bundle</li>
<li><code>filename</code> - specifies the filename of our bundle</li>
</ul>
<p>These will demonstrate more importance in the future. For now, it's just an easy way to split up our configuration into a more digestible format.</p>
<h2 id="soall-that-for-what-exactly">So&hellip;All That For What Exactly?</h2>
<p>At this point, we've quite literally taken an empty project, added webpack as a dependency, and created some configuration setup that takes an empty JavaScript file and adds a bunch of weird code to it. Let's write some actual code, populate our <code>index.js</code> file, require a module in it, and peek under the hood a bit.</p>
<p>First, let's create a new file called <code>hello.js</code>. This will be a module that we can use in <code>index.js</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">touch src/hello.js
</code></pre></div><p>Our hello module will accept an argument, <code>name</code>, and return the most wonderful string of all time: &ldquo;Hello <code>name</code>&rdquo;. Out of the box, webpack can bundle CommonJS and AMD style modules. For starting purposes, we'll use CommonJS. Let's go ahead and write the code for <code>hello.js</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">// hello.js
</span><span style="color:#75715e"></span><span style="color:#a6e22e">module</span>.<span style="color:#a6e22e">exports</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">name</span>) {
  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">name</span> <span style="color:#f92672">===</span> <span style="color:#66d9ef">undefined</span>) {
    <span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;World&#39;</span>;
  }

  <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#39;Hello, &#39;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">name</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;!&#39;</span>;
};
</code></pre></div><p>It's pretty simple. Our function accepts a <code>name</code> argument, and if that's undefined, it assigns the string <code>World</code> to it. It then returns the full string &ldquo;Hello, <code>name</code>&rdquo;. Back in our <code>index.js</code> file (which is our entry file for webpack), we can require this module and use it:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">// index.js
</span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">hello</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;./hello.js&#39;</span>);

<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">hello</span>()); <span style="color:#75715e">// should log &#34;Hello, World!&#34;
</span><span style="color:#75715e"></span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">hello</span>(<span style="color:#e6db74">&#39;Nick&#39;</span>)); <span style="color:#75715e">// should log &#34;Hello, Nick!&#34;
</span></code></pre></div><p>Now, if we run our build task again using <code>npm run build</code>, we'll get some neat output. We can also verify that our code is working by running it simply with node:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">node ./dist/index.bundle.js

output:

Hello, World!
Hello, Nick!
</code></pre></div><h2 id="whats-inside-the-compiled-file">What's Inside The Compiled File?</h2>
<p>If you're curious like me, then you're probably wondering what's happening under the hood. I won't get into too many details, because I've only glanced at the surface. There are a lot of generated comments though, so it's pretty easy to follow. In a nutshell:</p>
<ol>
<li>webpack wraps everything in an IIFE, which gets invoked with all the modules (as an array)</li>
<li>webpack creates a <code>__webpack_require__</code> function, which internally requires modules when needed</li>
<li>webpack kicks off by running the first module (which is the entry module, <code>index.js</code> in our case) using the <code>__webpack_require__</code> function</li>
<li>all previous <code>require</code> statements get replaced with an invocation of <code>__webpack_require__</code> with the correct module index from the passed in array</li>
</ol>
<p>If the above confuses you, then forget about it and don't dwell too much on it. The good news is that webpack did some heavy lifting for you, and you're now able to run this code in any JavaScript environment. To quickly see it working in the browser, open it up, go to the dev tools, and copy paste the entire <code>index.bundle.js</code> code into the console. You'll see it execute perfectly!</p>
<h2 id="wrap-up">Wrap Up</h2>
<p>Here, we took a plunge into webpack, and skimmed the surface of its huge well of potential. We took a quick look at the webpack cli, and another look and implementation of the webpack configuration file. Then, we created our first bundle which was making use of CommonJS modules. Next time, we'll look into loaders! Thanks again for reading, and if you have and questions, comments, or feedback, feel free to <!-- raw HTML omitted -->send me a tweet.<!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->

      </div>
    </div>
    <div class="Article-prevNext">
      
        <div class="Article-prevNext-link">
          <strong>Next:</strong>
          <a href="https://callmenick.com/dev/cooking-with-webpack-2-loaders/">Cooking With Webpack Part 2 - Understanding &amp; Using Webpack Loaders</a>
        </div>
      
      
        <div class="Article-prevNext-link">
          <strong>Previous:</strong>
          <a href="https://callmenick.com/dev/multi-line-padded-text-css-box-decoration-break/">Multi-line Padded Text with the CSS box-decoration-break Property</a>
        </div>
      
    </div>
  </section>

      </div>
    </main>
  </div>
  <script src="https://callmenick.com/js/prism.js"></script>
  <script src="https://callmenick.com/js/carbonad.js"></script>
</body>
</html>
